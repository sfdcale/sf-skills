{
  "version": "1.0.0",
  "skill": "sf-ai-agentforce-observability",
  "description": "TDD validation framework for Agentforce observability skill",
  "validation_cycle_days": 30,
  "test_org": "Vivint-DevInt",
  "pass_threshold": 80,
  "warn_threshold": 70,
  "tiers": {
    "T1": {
      "name": "Auth & Connectivity",
      "weight": 25,
      "description": "JWT authentication and Data 360 API connectivity",
      "requires_live_api": true,
      "tests": [
        {
          "name": "test_key_path_resolution",
          "points": 5,
          "description": "Verify key path resolution order (app-specific â†’ generic)"
        },
        {
          "name": "test_consumer_key_resolution",
          "points": 5,
          "description": "Verify consumer key resolution from file/env"
        },
        {
          "name": "test_api_connectivity",
          "points": 10,
          "description": "Verify v65.0 Data 360 API access"
        },
        {
          "name": "test_auth_error_messages",
          "points": 5,
          "description": "Verify helpful error messages on auth failure"
        }
      ]
    },
    "T2": {
      "name": "Extraction Commands",
      "weight": 30,
      "description": "CLI extraction commands work correctly",
      "requires_live_api": true,
      "tests": [
        {
          "name": "test_extract_basic",
          "points": 10,
          "description": "extract --days N creates all 4 directories"
        },
        {
          "name": "test_extract_filtered",
          "points": 5,
          "description": "extract --agent, --since, --until filtering"
        },
        {
          "name": "test_extract_tree",
          "points": 5,
          "description": "extract-tree --session-id extracts session tree"
        },
        {
          "name": "test_extract_incremental",
          "points": 5,
          "description": "extract-incremental uses watermark"
        },
        {
          "name": "test_count_command",
          "points": 5,
          "description": "count command returns record count"
        }
      ]
    },
    "T3": {
      "name": "Analysis Commands",
      "weight": 20,
      "description": "CLI analysis commands work with extracted data",
      "requires_live_api": false,
      "tests": [
        {
          "name": "test_analyze_summary",
          "points": 5,
          "description": "analyze generates summary statistics"
        },
        {
          "name": "test_debug_session",
          "points": 5,
          "description": "debug-session shows timeline"
        },
        {
          "name": "test_topics_analysis",
          "points": 5,
          "description": "topics shows routing analysis"
        },
        {
          "name": "test_quality_report",
          "points": 5,
          "description": "quality-report shows quality metrics"
        }
      ]
    },
    "T4": {
      "name": "Data Model/Schema",
      "weight": 15,
      "description": "Schema definitions match Salesforce API",
      "requires_live_api": false,
      "tests": [
        {
          "name": "test_dmo_names_correct",
          "points": 5,
          "description": "DMO_NAMES match actual API DMOs"
        },
        {
          "name": "test_field_casing",
          "points": 5,
          "description": "Field names use correct AiAgent casing"
        },
        {
          "name": "test_parquet_structure",
          "points": 5,
          "description": "Parquet output has correct directory structure"
        }
      ]
    },
    "T5": {
      "name": "Negative/Error Cases",
      "weight": 10,
      "description": "Error handling and validation",
      "requires_live_api": false,
      "tests": [
        {
          "name": "test_auth_failure_handling",
          "points": 5,
          "description": "Auth failures produce helpful errors"
        },
        {
          "name": "test_invalid_args_rejected",
          "points": 5,
          "description": "Invalid CLI args produce clear errors"
        }
      ]
    }
  },
  "metadata": {
    "created": "2026-01-30",
    "author": "TDD Validation Framework",
    "based_on": "sf-ai-agentscript validation pattern"
  }
}
